# Day 8: First EC2 Instance & Web Server Deployment

**Date:** October 20, 2025  
**Focus:** Hands-on EC2 launch, SSH connection, Apache installation  
**Time Investment:** 90 minutes

---

## What I Built

Launched my first EC2 instance and deployed a working web server accessible via public IP.

**Instance Details:**
- Instance Type: t2.micro (Free Tier)
- AMI: Amazon Linux 2023
- Region: us-east-2 (Ohio)
- Public IP: 3.135.230.130
- Live URL: http://3.135.230.130
- Security Group: Allows SSH (22) and HTTP (80)

---

## Step-by-Step Process

### 1. Launching the Instance
Navigated to EC2 console and configured a t2.micro instance with Amazon Linux 2023. Created a new key pair (`chris-aws-key.pem`) for SSH authentication and set up a security group allowing SSH and HTTP traffic from anywhere (0.0.0.0/0).

### 2. SSH Connection
Secured the private key with proper permissions and successfully connected to the instance:
```bash
# Moved key to secure location
mv ~/Downloads/chris-aws-key.pem ~/.ssh/

# Set correct permissions (required by SSH)
chmod 400 ~/.ssh/chris-aws-key.pem

# Connected to instance
ssh -i ~/.ssh/chris-aws-key.pem ec2-user@3.135.230.130
```

### 3. Web Server Installation
Updated system packages and installed Apache HTTP Server (httpd):
```bash
# Update all packages
sudo yum update -y

# Install Apache
sudo yum install httpd -y

# Start Apache and enable on boot
sudo systemctl start httpd
sudo systemctl enable httpd

# Verify running status
sudo systemctl status httpd
```

### 4. Web Content Deployment
Created a custom HTML page and verified accessibility via public IP:
```bash
echo "Welcome to Chris AWS Learning Journey - Day 8" | sudo tee /var/www/html/index.html
```

Successfully accessed the page at http://3.135.230.130

---

## Key Learnings

**SSH Key Management:** Understanding file permissions is critical for SSH authentication. The private key must have 400 permissions (`-r--------`) or SSH will reject it for security reasons. This was immediately enforced when I ran `chmod 400` on my `.pem` file.

**Security Groups Control Access:** My instance wouldn't be accessible without explicitly allowing inbound traffic on ports 22 (SSH) and 80 (HTTP). Security groups are stateful - once inbound traffic is allowed, return traffic is automatically permitted without needing explicit outbound rules.

**Bash Special Characters:** Encountered an error with exclamation marks in double quotes. Bash interprets `!` as history expansion, so I had to use single quotes or escape the character. This taught me to be careful with special characters in shell commands.

**EC2 Instance States:** The instance showed "Running" quickly in the console, but it took an additional 1-2 minutes for the system to fully initialize before SSH connections worked. This is normal - the instance needs time to boot the OS completely.

**Apache Document Root:** Learned that on Amazon Linux, Apache serves files from `/var/www/html/` by default. Any HTML file placed in this directory becomes accessible via the instance's public IP.

---

## Challenges Encountered

**Challenge 1: Bash History Expansion Error**
When running the echo command with double quotes containing an exclamation mark, bash interpreted it as a history command and threw `bash: !: event not found`. 

**Solution:** Used single quotes instead, which prevent bash from expanding special characters.

**Challenge 2: Understanding `sudo tee`**
Initially wasn't clear why we needed `sudo tee` instead of just redirecting with `>`. 

**Understanding:** The redirect operator `>` runs with user permissions, but writing to `/var/www/html/` requires root. Using `| sudo tee` elevates privileges for the write operation.

---

## Next Steps

- Tomorrow (Day 9): Install AWS CLI on the EC2 instance and configure it to interact with my S3 bucket from Day 6
- Practice: SSH into the instance again to reinforce the connection workflow
- Explore: Navigate the Linux file system and practice basic commands

---

## Week 2 Progress

- Day 8: âœ… EC2 instance launched and configured
- Day 9: AWS CLI integration with S3
- Day 10-14: TBD (networking, load balancing, or additional EC2 projects)
